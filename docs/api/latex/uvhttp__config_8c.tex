\hypertarget{uvhttp__config_8c}{}\doxysection{src/uvhttp\+\_\+config.c File Reference}
\label{uvhttp__config_8c}\index{src/uvhttp\_config.c@{src/uvhttp\_config.c}}


配置管理系统实现  


{\ttfamily \#include \char`\"{}uvhttp\+\_\+config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}uvhttp\+\_\+allocator.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}uvhttp\+\_\+context.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}uvhttp\+\_\+error\+\_\+handler.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}uvhttp\+\_\+logging.\+h\char`\"{}}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$sys/resource.\+h$>$}\newline
Include dependency graph for uvhttp\+\_\+config.\+c\+:
% FIG 0
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a576f963a536ec9261a9a6846c4293d66}\label{uvhttp__config_8c_a576f963a536ec9261a9a6846c4293d66}} 
\#define {\bfseries UVHTTP\+\_\+\+MAX\+\_\+\+BODY\+\_\+\+SIZE\+\_\+\+CONFIG}~    (100 $\ast$ 1024 $\ast$ 1024) /$\ast$ 避免与头文件中的宏冲突 $\ast$/
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a9787904e53e229e7f5f11e0ae901c878}\label{uvhttp__config_8c_a9787904e53e229e7f5f11e0ae901c878}} 
\#define {\bfseries UVHTTP\+\_\+\+MIN\+\_\+\+CONNECTIONS}~1
\item 
\mbox{\Hypertarget{uvhttp__config_8c_af772c6e2ff11c97322ab2d7e748f283b}\label{uvhttp__config_8c_af772c6e2ff11c97322ab2d7e748f283b}} 
\#define {\bfseries UVHTTP\+\_\+\+MAX\+\_\+\+CONNECTIONS\+\_\+\+HARD}~65535 /$\ast$ Based on system limits $\ast$/
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a1349803a3c9f4512058e2c29ac80bb5b}\label{uvhttp__config_8c_a1349803a3c9f4512058e2c29ac80bb5b}} 
\#define {\bfseries UVHTTP\+\_\+\+MIN\+\_\+\+BUFFER\+\_\+\+SIZE}~1024
\item 
\mbox{\Hypertarget{uvhttp__config_8c_afee2ac439c110b2b173c9cdaf41266a7}\label{uvhttp__config_8c_afee2ac439c110b2b173c9cdaf41266a7}} 
\#define {\bfseries UVHTTP\+\_\+\+MAX\+\_\+\+BUFFER\+\_\+\+SIZE}~(1024 $\ast$ 1024)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a650334d1cac98c797ad5e54c40cfa275}\label{uvhttp__config_8c_a650334d1cac98c797ad5e54c40cfa275}} 
\#define {\bfseries UVHTTP\+\_\+\+MIN\+\_\+\+BODY\+\_\+\+SIZE}~1024
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a576f963a536ec9261a9a6846c4293d66}\label{uvhttp__config_8c_a576f963a536ec9261a9a6846c4293d66}} 
\#define {\bfseries UVHTTP\+\_\+\+MAX\+\_\+\+BODY\+\_\+\+SIZE\+\_\+\+CONFIG}~    (100 $\ast$ 1024 $\ast$ 1024) /$\ast$ Avoid conflict with macros in header file $\ast$/
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uvhttp\+\_\+error\+\_\+t \mbox{\hyperlink{uvhttp__config_8c_a67ab031597a7588f15bf60a426108903}{uvhttp\+\_\+config\+\_\+new}} (\mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$$\ast$config)
\begin{DoxyCompactList}\small\item\em 创建新的配置对象 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{uvhttp__config_8c_ac6a65d4da0e3e0237ec16357ba1dda3a}\label{uvhttp__config_8c_ac6a65d4da0e3e0237ec16357ba1dda3a}} 
void {\bfseries uvhttp\+\_\+config\+\_\+free} (\mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_afca3cd6faf0956b39e170d6f998fc785}\label{uvhttp__config_8c_afca3cd6faf0956b39e170d6f998fc785}} 
void {\bfseries uvhttp\+\_\+config\+\_\+set\+\_\+defaults} (\mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a240016556f50af6802ee2f067f927747}\label{uvhttp__config_8c_a240016556f50af6802ee2f067f927747}} 
int {\bfseries uvhttp\+\_\+config\+\_\+load\+\_\+file} (\mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config, const char $\ast$filename)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_acf6fd7073ea10b125f68e2c9cf27116a}\label{uvhttp__config_8c_acf6fd7073ea10b125f68e2c9cf27116a}} 
int {\bfseries uvhttp\+\_\+config\+\_\+save\+\_\+file} (const \mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config, const char $\ast$filename)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_ad3adc59fc4501626f774099f56905236}\label{uvhttp__config_8c_ad3adc59fc4501626f774099f56905236}} 
int {\bfseries uvhttp\+\_\+config\+\_\+load\+\_\+env} (\mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_aa63058b849c590f9c7ae0a41ac5ac9c3}\label{uvhttp__config_8c_aa63058b849c590f9c7ae0a41ac5ac9c3}} 
int {\bfseries uvhttp\+\_\+config\+\_\+validate} (const \mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_ad34127e3fd907e8fc5d7a77daa5943ae}\label{uvhttp__config_8c_ad34127e3fd907e8fc5d7a77daa5943ae}} 
void {\bfseries uvhttp\+\_\+config\+\_\+print} (const \mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a9da66d06ceb6254e3745667273073960}\label{uvhttp__config_8c_a9da66d06ceb6254e3745667273073960}} 
const \mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$ {\bfseries uvhttp\+\_\+config\+\_\+get\+\_\+current} (\mbox{\hyperlink{structuvhttp__context}{uvhttp\+\_\+context\+\_\+t}} $\ast$context)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a81ba3a93c868d34eba2391ddbdfd2712}\label{uvhttp__config_8c_a81ba3a93c868d34eba2391ddbdfd2712}} 
int {\bfseries uvhttp\+\_\+config\+\_\+update\+\_\+max\+\_\+connections} (\mbox{\hyperlink{structuvhttp__context}{uvhttp\+\_\+context\+\_\+t}} $\ast$context, int max\+\_\+connections)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a1cf506399dddfae25775b44cdd8c52cc}\label{uvhttp__config_8c_a1cf506399dddfae25775b44cdd8c52cc}} 
int {\bfseries uvhttp\+\_\+config\+\_\+update\+\_\+read\+\_\+buffer\+\_\+size} (\mbox{\hyperlink{structuvhttp__context}{uvhttp\+\_\+context\+\_\+t}} $\ast$context, int buffer\+\_\+size)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a984a7975ca91728e05710479d5fcd001}\label{uvhttp__config_8c_a984a7975ca91728e05710479d5fcd001}} 
int {\bfseries uvhttp\+\_\+config\+\_\+update\+\_\+size\+\_\+limits} (\mbox{\hyperlink{structuvhttp__context}{uvhttp\+\_\+context\+\_\+t}} $\ast$context, size\+\_\+t max\+\_\+body\+\_\+size, size\+\_\+t max\+\_\+header\+\_\+size)
\item 
\mbox{\Hypertarget{uvhttp__config_8c_a710e41bbec7af3ac58ec2db346c9c602}\label{uvhttp__config_8c_a710e41bbec7af3ac58ec2db346c9c602}} 
void {\bfseries uvhttp\+\_\+config\+\_\+set\+\_\+current} (\mbox{\hyperlink{structuvhttp__context}{uvhttp\+\_\+context\+\_\+t}} $\ast$context, \mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$config)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
配置管理系统实现 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{uvhttp__config_8c_a67ab031597a7588f15bf60a426108903}\label{uvhttp__config_8c_a67ab031597a7588f15bf60a426108903}} 
\index{uvhttp\_config.c@{uvhttp\_config.c}!uvhttp\_config\_new@{uvhttp\_config\_new}}
\index{uvhttp\_config\_new@{uvhttp\_config\_new}!uvhttp\_config.c@{uvhttp\_config.c}}
\doxysubsubsection{\texorpdfstring{uvhttp\_config\_new()}{uvhttp\_config\_new()}}
{\footnotesize\ttfamily uvhttp\+\_\+error\+\_\+t uvhttp\+\_\+config\+\_\+new (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structuvhttp__config__t}{uvhttp\+\_\+config\+\_\+t}} $\ast$$\ast$}]{config }\end{DoxyParamCaption})}



创建新的配置对象 


\begin{DoxyParams}{Parameters}
{\em config} & 输出参数，用于接收配置对象指针 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
UVHTTP\+\_\+\+OK 成功，其他值表示失败 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
成功时，$\ast$config 被设置为有效的配置对象，必须使用 uvhttp\+\_\+config\+\_\+free 释放 

失败时，$\ast$config 被设置为 NULL 
\end{DoxyNote}
