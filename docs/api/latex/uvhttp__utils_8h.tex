\hypertarget{uvhttp__utils_8h}{}\doxysection{include/uvhttp\+\_\+utils.h File Reference}
\label{uvhttp__utils_8h}\index{include/uvhttp\_utils.h@{include/uvhttp\_utils.h}}


Utility functions for UVHTTP.  


{\ttfamily \#include \char`\"{}uvhttp\+\_\+error.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
Include dependency graph for uvhttp\+\_\+utils.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{uvhttp__utils_8h_a11c87d93b4fc52a35b52a7fcbd561973}\label{uvhttp__utils_8h_a11c87d93b4fc52a35b52a7fcbd561973}} 
typedef struct \mbox{\hyperlink{structuvhttp__response}{uvhttp\+\_\+response}} {\bfseries uvhttp\+\_\+response\+\_\+t}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{uvhttp__utils_8h_a91aff0228b9cf8cd4091aa8a01d1a38a}{uvhttp\+\_\+safe\+\_\+strncpy}} (char $\ast$dest, const char $\ast$src, size\+\_\+t dest\+\_\+size)
\begin{DoxyCompactList}\small\item\em Safe string copy with size checking. \end{DoxyCompactList}\item 
uvhttp\+\_\+error\+\_\+t \mbox{\hyperlink{uvhttp__utils_8h_af32bec671a7c926ca97eb76000719c8e}{uvhttp\+\_\+send\+\_\+unified\+\_\+response}} (\mbox{\hyperlink{structuvhttp__response}{uvhttp\+\_\+response\+\_\+t}} $\ast$response, const char $\ast$content, size\+\_\+t length, int status\+\_\+code)
\begin{DoxyCompactList}\small\item\em Send unified response with custom content. \end{DoxyCompactList}\item 
uvhttp\+\_\+error\+\_\+t \mbox{\hyperlink{uvhttp__utils_8h_af4bb08d954205fb266dcf4ef450abd34}{uvhttp\+\_\+send\+\_\+error\+\_\+response}} (\mbox{\hyperlink{structuvhttp__response}{uvhttp\+\_\+response\+\_\+t}} $\ast$response, int error\+\_\+code, const char $\ast$error\+\_\+message, const char $\ast$details)
\begin{DoxyCompactList}\small\item\em Send error response in JSON format. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{uvhttp__utils_8h_aac8aab7141a39ced5bfbf970e0f1286e}{uvhttp\+\_\+is\+\_\+valid\+\_\+status\+\_\+code}} (int status\+\_\+code)
\begin{DoxyCompactList}\small\item\em Validate HTTP status code. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{uvhttp__utils_8h_adce2d9c0eaeac5184e55a45406354841}{uvhttp\+\_\+is\+\_\+valid\+\_\+ip\+\_\+address}} (const char $\ast$ip)
\begin{DoxyCompactList}\small\item\em Validate IP address format (IPv4 or IPv6) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Utility functions for UVHTTP. 

This module provides utility functions including response handling, string operations, and validation helpers. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{uvhttp__utils_8h_adce2d9c0eaeac5184e55a45406354841}\label{uvhttp__utils_8h_adce2d9c0eaeac5184e55a45406354841}} 
\index{uvhttp\_utils.h@{uvhttp\_utils.h}!uvhttp\_is\_valid\_ip\_address@{uvhttp\_is\_valid\_ip\_address}}
\index{uvhttp\_is\_valid\_ip\_address@{uvhttp\_is\_valid\_ip\_address}!uvhttp\_utils.h@{uvhttp\_utils.h}}
\doxysubsubsection{\texorpdfstring{uvhttp\_is\_valid\_ip\_address()}{uvhttp\_is\_valid\_ip\_address()}}
{\footnotesize\ttfamily int uvhttp\+\_\+is\+\_\+valid\+\_\+ip\+\_\+address (\begin{DoxyParamCaption}\item[{const char $\ast$}]{ip }\end{DoxyParamCaption})}



Validate IP address format (IPv4 or IPv6) 


\begin{DoxyParams}{Parameters}
{\em ip} & IP address string to validate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int TRUE if valid, FALSE otherwise
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Supports both IPv4 (e.\+g., \char`\"{}192.\+168.\+1.\+1\char`\"{}) and IPv6 (e.\+g., \char`\"{}\+::1\char`\"{}) 

Simplified validation, does not check all edge cases 
\end{DoxyNote}
\mbox{\Hypertarget{uvhttp__utils_8h_aac8aab7141a39ced5bfbf970e0f1286e}\label{uvhttp__utils_8h_aac8aab7141a39ced5bfbf970e0f1286e}} 
\index{uvhttp\_utils.h@{uvhttp\_utils.h}!uvhttp\_is\_valid\_status\_code@{uvhttp\_is\_valid\_status\_code}}
\index{uvhttp\_is\_valid\_status\_code@{uvhttp\_is\_valid\_status\_code}!uvhttp\_utils.h@{uvhttp\_utils.h}}
\doxysubsubsection{\texorpdfstring{uvhttp\_is\_valid\_status\_code()}{uvhttp\_is\_valid\_status\_code()}}
{\footnotesize\ttfamily int uvhttp\+\_\+is\+\_\+valid\+\_\+status\+\_\+code (\begin{DoxyParamCaption}\item[{int}]{status\+\_\+code }\end{DoxyParamCaption})}



Validate HTTP status code. 


\begin{DoxyParams}{Parameters}
{\em status\+\_\+code} & Status code to validate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int TRUE if valid, FALSE otherwise
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Valid range\+: 100-\/599 

Checks for standard HTTP status code ranges
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em status\+\_\+code} & HTTP status code \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if valid, FALSE otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{uvhttp__utils_8h_a91aff0228b9cf8cd4091aa8a01d1a38a}\label{uvhttp__utils_8h_a91aff0228b9cf8cd4091aa8a01d1a38a}} 
\index{uvhttp\_utils.h@{uvhttp\_utils.h}!uvhttp\_safe\_strncpy@{uvhttp\_safe\_strncpy}}
\index{uvhttp\_safe\_strncpy@{uvhttp\_safe\_strncpy}!uvhttp\_utils.h@{uvhttp\_utils.h}}
\doxysubsubsection{\texorpdfstring{uvhttp\_safe\_strncpy()}{uvhttp\_safe\_strncpy()}}
{\footnotesize\ttfamily int uvhttp\+\_\+safe\+\_\+strncpy (\begin{DoxyParamCaption}\item[{char $\ast$}]{dest,  }\item[{const char $\ast$}]{src,  }\item[{size\+\_\+t}]{dest\+\_\+size }\end{DoxyParamCaption})}



Safe string copy with size checking. 


\begin{DoxyParams}{Parameters}
{\em dest} & Destination buffer \\
\hline
{\em src} & Source string to copy \\
\hline
{\em dest\+\_\+size} & Size of destination buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Number of characters copied (excluding null terminator)
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Ensures destination is null-\/terminated 

Returns 0 if dest\+\_\+size is 0 
\end{DoxyNote}
\mbox{\Hypertarget{uvhttp__utils_8h_af4bb08d954205fb266dcf4ef450abd34}\label{uvhttp__utils_8h_af4bb08d954205fb266dcf4ef450abd34}} 
\index{uvhttp\_utils.h@{uvhttp\_utils.h}!uvhttp\_send\_error\_response@{uvhttp\_send\_error\_response}}
\index{uvhttp\_send\_error\_response@{uvhttp\_send\_error\_response}!uvhttp\_utils.h@{uvhttp\_utils.h}}
\doxysubsubsection{\texorpdfstring{uvhttp\_send\_error\_response()}{uvhttp\_send\_error\_response()}}
{\footnotesize\ttfamily uvhttp\+\_\+error\+\_\+t uvhttp\+\_\+send\+\_\+error\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structuvhttp__response}{uvhttp\+\_\+response\+\_\+t}} $\ast$}]{response,  }\item[{int}]{error\+\_\+code,  }\item[{const char $\ast$}]{error\+\_\+message,  }\item[{const char $\ast$}]{details }\end{DoxyParamCaption})}



Send error response in JSON format. 


\begin{DoxyParams}{Parameters}
{\em response} & Response object \\
\hline
{\em error\+\_\+code} & Error code to include in response \\
\hline
{\em error\+\_\+message} & Error message \\
\hline
{\em details} & Additional error details (can be NULL) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uvhttp\+\_\+error\+\_\+t UVHTTP\+\_\+\+OK on success, error code otherwise
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Response format\+: \{\char`\"{}error\char`\"{}\+: \{\char`\"{}code\char`\"{}\+: X, \char`\"{}message\char`\"{}\+: \char`\"{}...\char`\"{}, \char`\"{}details\char`\"{}\+: \char`\"{}...\char`\"{}\}\} 

Automatically sets Content-\/\+Type to application/json 

Automatically sets status code based on error\+\_\+code
\end{DoxyNote}
Send error response in JSON format.


\begin{DoxyParams}{Parameters}
{\em response} & Response object \\
\hline
{\em error\+\_\+code} & Error code \\
\hline
{\em error\+\_\+message} & Error message \\
\hline
{\em details} & Detailed information (optional) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
UVHTTP\+\_\+\+OK on success, error code otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{uvhttp__utils_8h_af32bec671a7c926ca97eb76000719c8e}\label{uvhttp__utils_8h_af32bec671a7c926ca97eb76000719c8e}} 
\index{uvhttp\_utils.h@{uvhttp\_utils.h}!uvhttp\_send\_unified\_response@{uvhttp\_send\_unified\_response}}
\index{uvhttp\_send\_unified\_response@{uvhttp\_send\_unified\_response}!uvhttp\_utils.h@{uvhttp\_utils.h}}
\doxysubsubsection{\texorpdfstring{uvhttp\_send\_unified\_response()}{uvhttp\_send\_unified\_response()}}
{\footnotesize\ttfamily uvhttp\+\_\+error\+\_\+t uvhttp\+\_\+send\+\_\+unified\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structuvhttp__response}{uvhttp\+\_\+response\+\_\+t}} $\ast$}]{response,  }\item[{const char $\ast$}]{content,  }\item[{size\+\_\+t}]{length,  }\item[{int}]{status\+\_\+code }\end{DoxyParamCaption})}



Send unified response with custom content. 


\begin{DoxyParams}{Parameters}
{\em response} & Response object \\
\hline
{\em content} & Response body content \\
\hline
{\em length} & Length of content in bytes \\
\hline
{\em status\+\_\+code} & HTTP status code (e.\+g., 200, 404) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uvhttp\+\_\+error\+\_\+t UVHTTP\+\_\+\+OK on success, error code otherwise
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Caller is responsible for setting Content-\/\+Type header 

Automatically sets status code and sends response
\end{DoxyNote}
Send unified response with custom content.


\begin{DoxyParams}{Parameters}
{\em response} & Response object \\
\hline
{\em content} & Content data \\
\hline
{\em length} & Content length (auto-\/calculated if 0) \\
\hline
{\em status\+\_\+code} & HTTP status code (uses existing code if 0) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
UVHTTP\+\_\+\+OK on success, error code otherwise 
\end{DoxyReturn}
